<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<f:view contentType="text/html" locale="en">
    <h:head title="#{msg['app.title']}">
        <f:facet name="first">
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <meta http-equiv="pragma" content="no-cache"/>
            <meta http-equiv="cache-control" content="no-cache"/>
            <meta http-equiv="expires" content="0"/>
        </f:facet>
        
        <f:facet name="last">
         	<h:outputScript library="js" name="calendarLocales.js"></h:outputScript>
			<h:outputStylesheet library="css" name="styles.css"></h:outputStylesheet>
			<h:outputScript library="js" name="app.js"></h:outputScript>
		</f:facet>
  
  
        <ui:insert name="head"/>
    </h:head>
    <h:body>
    	<div id="wrapper">
    		
			<div class="ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all" style="height: 80px; margin-bottom: 2px;">
				<h1>TechBuzz</h1>
			</div>
			<div id="mainMenu" style=" margin-bottom: 2px;">
				<h:form id="mainMenuForm">
				
				<p:menubar>
						<p:menuitem value="Home" url="home.jsf" icon="ui-icon-home" />
						<p:menuitem value="New Post" url="createPost.jsf" icon="ui-icon-document" />
						<p:menuitem value="Search" url="search.jsf" icon="ui-icon-search" />
						<p:menuitem value="My Account" url="userAccount.jsf" icon="ui-icon-person" />
						
						<p:menuitem value="Administration" url="administration.jsf" icon="ui-icon-gear"/>
				        
				        <f:facet name="options">
				        	<p:themeSwitcher value="#{userSettingsController.selectedTheme}" style="width:180px" var="theme">  
								<f:selectItem itemLabel="Select Theme" itemValue="" />  
								<f:selectItems value="#{userSettingsController.themePojos}" var="t" 
												itemLabel="#{t.name}" itemValue="#{t}"/>
									<p:ajax listener="#{userSettingsController.saveUserTheme}"/>	  
								<p:column>  
									#{theme.name}  
								</p:column>
								<p:column>  
									<p:graphicImage value="/resources/images/themes/#{theme.image}"/>  
								</p:column>
							</p:themeSwitcher>
				        	<p:outputLabel value="Welcome #{userController.loginUser.emailId}! " rendered="#{userController.userLoggedin}"/>
				        	<p:commandLink value=" Logout" action="#{userController.logout}" style="margin-right:10px" icon="ui-icon-extlink" rendered="#{userController.userLoggedin}"/>
				        </f:facet>
				    </p:menubar>
				    </h:form>
			</div>
			<div class="ui-panel ui-widget ui-widget-content ui-corner-all" style="margin-bottom: 3px; min-height: 450px;">
				<ui:insert name="bodyContent"/> 
			</div>
    		
        </div>
    </h:body>
</f:view>
</html>
